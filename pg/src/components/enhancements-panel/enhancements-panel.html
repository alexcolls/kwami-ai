<div class="panel-header">
  <iconify-icon icon="ph:sliders-duotone" class="panel-icon"></iconify-icon>
  <h2>Enhancements</h2>
</div>

<div class="panel-body">
  <!-- Turn Detection -->
  <section class="panel-section">
    <h3>
      <iconify-icon icon="ph:chat-circle-dots-duotone"></iconify-icon>
      Turn Detection
    </h3>
    <div class="toggle-row">
      <div class="toggle-info">
        <span class="toggle-label">Enable Turn Detection</span>
        <span class="toggle-desc">Automatically detect when user finishes speaking</span>
      </div>
      <label class="toggle-switch">
        <input type="checkbox" id="turn-detection-enabled" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
    
    <div class="config-form" id="turn-detection-options">
      <div class="form-group">
        <label for="turn-detection-mode">Detection Mode</label>
        <select id="turn-detection-mode">
          <option value="model" selected>Turn Detector Model</option>
          <option value="vad">VAD Only</option>
          <option value="stt">STT Endpointing</option>
          <option value="manual">Manual Control</option>
        </select>
      </div>
      <div class="form-group" id="turn-model-group">
        <label for="turn-detection-model">Model Type</label>
        <select id="turn-detection-model">
          <option value="multilingual" selected>Multilingual</option>
          <option value="english">English Only</option>
        </select>
      </div>
      <div class="form-group">
        <label for="min-endpointing-delay">Min Endpointing Delay (s)</label>
        <div class="slider-group">
          <input type="range" id="min-endpointing-delay" min="0" max="2" step="0.1" value="0.5">
          <span class="slider-value" id="min-endpointing-delay-value">0.5</span>
        </div>
      </div>
      <div class="form-group">
        <label for="max-endpointing-delay">Max Endpointing Delay (s)</label>
        <div class="slider-group">
          <input type="range" id="max-endpointing-delay" min="1" max="5" step="0.5" value="3.0">
          <span class="slider-value" id="max-endpointing-delay-value">3.0</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Interruptions -->
  <section class="panel-section">
    <h3>
      <iconify-icon icon="ph:hand-palm-duotone"></iconify-icon>
      Interruptions
    </h3>
    <div class="toggle-row">
      <div class="toggle-info">
        <span class="toggle-label">Allow Interruptions</span>
        <span class="toggle-desc">Let user interrupt agent while speaking</span>
      </div>
      <label class="toggle-switch">
        <input type="checkbox" id="allow-interruptions" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
    
    <div class="config-form" id="interruption-options">
      <div class="form-group">
        <label for="min-interruption-duration">Min Interruption Duration (s)</label>
        <div class="slider-group">
          <input type="range" id="min-interruption-duration" min="0.1" max="1.5" step="0.1" value="0.5">
          <span class="slider-value" id="min-interruption-duration-value">0.5</span>
        </div>
      </div>
      <div class="form-group">
        <label for="min-interruption-words">Min Interruption Words</label>
        <div class="slider-group">
          <input type="range" id="min-interruption-words" min="0" max="5" step="1" value="0">
          <span class="slider-value" id="min-interruption-words-value">0</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Noise Cancellation -->
  <section class="panel-section">
    <h3>
      <iconify-icon icon="ph:speaker-x-duotone"></iconify-icon>
      Noise Cancellation
    </h3>
    <div class="toggle-row">
      <div class="toggle-info">
        <span class="toggle-label">Enable Noise Cancellation</span>
        <span class="toggle-desc">Reduce background noise in audio input</span>
      </div>
      <label class="toggle-switch">
        <input type="checkbox" id="noise-cancellation-enabled" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
    
    <div class="config-form" id="noise-cancellation-options">
      <div class="form-group">
        <label for="noise-cancellation-mode">Mode</label>
        <select id="noise-cancellation-mode">
          <option value="bvc" selected>BVC (Background Voice Cancellation)</option>
          <option value="krisp">Krisp</option>
          <option value="default">Default</option>
        </select>
      </div>
    </div>
  </section>

  <!-- VAD Settings -->
  <section class="panel-section">
    <h3>
      <iconify-icon icon="ph:waveform-duotone"></iconify-icon>
      Voice Activity Detection (VAD)
    </h3>
    <div class="config-form">
      <div class="form-group">
        <label for="vad-provider">Provider</label>
        <select id="vad-provider">
          <option value="silero" selected>Silero</option>
        </select>
      </div>
      <div class="form-group">
        <label for="vad-threshold">Speech Threshold</label>
        <div class="slider-group">
          <input type="range" id="vad-threshold" min="0" max="1" step="0.05" value="0.5">
          <span class="slider-value" id="vad-threshold-value">0.5</span>
        </div>
      </div>
      <div class="form-group">
        <label for="vad-min-speech">Min Speech Duration (s)</label>
        <div class="slider-group">
          <input type="range" id="vad-min-speech" min="0" max="0.5" step="0.05" value="0.1">
          <span class="slider-value" id="vad-min-speech-value">0.1</span>
        </div>
      </div>
      <div class="form-group">
        <label for="vad-min-silence">Min Silence Duration (s)</label>
        <div class="slider-group">
          <input type="range" id="vad-min-silence" min="0.1" max="1" step="0.1" value="0.5">
          <span class="slider-value" id="vad-min-silence-value">0.5</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Audio Enhancements -->
  <section class="panel-section">
    <h3>
      <iconify-icon icon="ph:speaker-high-duotone"></iconify-icon>
      Audio Processing
    </h3>
    <div class="toggle-row">
      <div class="toggle-info">
        <span class="toggle-label">Echo Cancellation</span>
        <span class="toggle-desc">Prevent audio feedback loops</span>
      </div>
      <label class="toggle-switch">
        <input type="checkbox" id="echo-cancellation" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
    <div class="toggle-row">
      <div class="toggle-info">
        <span class="toggle-label">Auto Gain Control</span>
        <span class="toggle-desc">Automatically adjust microphone volume</span>
      </div>
      <label class="toggle-switch">
        <input type="checkbox" id="auto-gain-control" checked>
        <span class="toggle-slider"></span>
      </label>
    </div>
  </section>

  <!-- Performance -->
  <section class="panel-section">
    <h3>
      <iconify-icon icon="ph:lightning-duotone"></iconify-icon>
      Performance
    </h3>
    <div class="toggle-row">
      <div class="toggle-info">
        <span class="toggle-label">Preemptive Generation</span>
        <span class="toggle-desc">Start generating response before turn ends (may increase cost)</span>
      </div>
      <label class="toggle-switch">
        <input type="checkbox" id="preemptive-generation">
        <span class="toggle-slider"></span>
      </label>
    </div>
  </section>

  <!-- Apply Button -->
  <section class="panel-section">
    <button class="action-btn primary full-width" id="apply-enhancements">
      <iconify-icon icon="ph:check-duotone"></iconify-icon>
      Apply Enhancements
    </button>
  </section>
</div>
